(this["webpackJsonpnadine-botha"]=this["webpackJsonpnadine-botha"]||[]).push([[0],{12:function(e,t,n){},264:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(89),a=n.n(r),s=(n(97),n(98),n(20)),o=n(3),d=n(21),l=n(26),j=n(90),f=n.n(j)()({projectId:"yjflfwft",dataset:"production",useCdn:!0}),h=n(6),u=n.n(h),b=n(5),p=n.n(b),m=(n(12),n(0)),g=function(e){e.position;var t,n=e.content,i=(e.dispatchAddToHistory,e.sanityClient),c=p()(i);return Object(m.jsxs)("div",{className:"cardContent",children:[Object(m.jsx)("div",{className:"title",children:n.title}),Object(m.jsx)("div",{class:"cardImageWrapper",children:Object(m.jsx)("img",{src:(t=n.images[0].image,c.image(t))})}),n.images[0].caption?Object(m.jsx)("div",{className:"blockContent",children:Object(m.jsx)(u.a,{blocks:n.images[0].caption,projectId:i.clientConfig.projectId,dataset:i.clientConfig.dataset})}):""]})},O=n(91),x=n.n(O),v=function(e){var t,n=e.position,i=e.content,c=e.dispatchAddToHistory,r=e.sanityClient,a={marks:{internalLink:function(e){var t=e.mark,i=e.children;return Object(m.jsx)("span",{className:"internalLink",onClick:function(){var e;e=t.reference._ref,c({type:"add",payload:{position:n,id:e}})},children:i})},link:function(e){var t=e.mark,n=e.children,i=t.blank,c=t.href;return i?Object(m.jsx)("a",{href:c,target:"_blank",rel:"noopener",children:n}):Object(m.jsx)("a",{href:c,children:n})}}},s=p()(r);return console.log(i),Object(m.jsxs)("div",{className:"cardContent ".concat(i.referenceType),children:[Object(m.jsx)("div",{className:"title",children:i.title}),i.videos[0].muxAssetDoc?Object(m.jsx)("div",{className:"videoWrapper",children:Object(m.jsx)(x.a,{assetDocument:i.videos[0].muxAssetDoc[0],autoload:!0,autoplay:!1,showControls:!0,muted:!1,loop:!1})}):"",i.images?Object(m.jsx)("div",{class:"cardImageWrapper",children:Object(m.jsx)("img",{src:(t=i.images[0].image,s.image(t))})}):"",Object(m.jsx)("div",{className:"blockContent",children:Object(m.jsx)(u.a,{blocks:i.text,projectId:r.clientConfig.projectId,dataset:r.clientConfig.dataset,serializers:a})})]})},y=function(e){e.position;var t,n=e.content,i=(e.dispatchAddToHistory,e.sanityClient),c={marks:{internalLink:function(e){var t=e.mark,n=e.children;return Object(m.jsx)("span",{className:"internalLink","data-internallink":t.reference._ref,children:n})},link:function(e){var t=e.mark,n=e.children,i=t.blank,c=t.href;return i?Object(m.jsx)("a",{href:c,target:"_blank",rel:"noopener",children:n}):Object(m.jsx)("a",{href:c,children:n})}}},r=p()(i);return Object(m.jsxs)("div",{className:"cardContent",children:[Object(m.jsx)("div",{className:"title",children:n.title}),n.images?Object(m.jsx)("div",{class:"cardImageWrapper",children:Object(m.jsx)("img",{src:(t=n.images[0].image,r.image(t))})}):"",Object(m.jsx)("div",{className:"blockContent",children:Object(m.jsx)(u.a,{blocks:n.text,projectId:i.clientConfig.projectId,dataset:i.clientConfig.dataset,serializers:c})})]})},k=function(e){e.position;var t,n=e.content,i=(e.dispatchAddToHistory,e.sanityClient),c={marks:{internalLink:function(e){var t=e.mark,n=e.children;return Object(m.jsx)("span",{className:"internalLink","data-internallink":t.reference._ref,children:n})},link:function(e){var t=e.mark,n=e.children,i=t.blank,c=t.href;return i?Object(m.jsx)("a",{href:c,target:"_blank",rel:"noopener",children:n}):Object(m.jsx)("a",{href:c,children:n})}}},r=p()(i);return Object(m.jsxs)("div",{className:"cardContent",children:[Object(m.jsx)("div",{className:"title",children:n.title}),n.images?Object(m.jsx)("div",{class:"cardImageWrapper",children:Object(m.jsx)("img",{src:(t=n.images[0].image,r.image(t))})}):"",Object(m.jsx)("div",{className:"blockContent",children:Object(m.jsx)(u.a,{blocks:n.text,projectId:i.clientConfig.projectId,dataset:i.clientConfig.dataset,serializers:c})})]})},_=function(e){e.position;var t,n=e.content,i=(e.dispatchAddToHistory,e.sanityClient),c={marks:{internalLink:function(e){var t=e.mark,n=e.children;return Object(m.jsx)("span",{className:"internalLink","data-internallink":t.reference._ref,children:n})},link:function(e){var t=e.mark,n=e.children,i=t.blank,c=t.href;return i?Object(m.jsx)("a",{href:c,target:"_blank",rel:"noopener",children:n}):Object(m.jsx)("a",{href:c,children:n})}}},r=p()(i);return Object(m.jsxs)("div",{className:"cardContent",children:[Object(m.jsx)("div",{className:"title",children:n.title}),n.images?Object(m.jsx)("div",{class:"cardImageWrapper",children:Object(m.jsx)("img",{src:(t=n.images[0].image,r.image(t))})}):"",Object(m.jsx)("div",{className:"blockContent",children:Object(m.jsx)(u.a,{blocks:n.text,projectId:i.clientConfig.projectId,dataset:i.clientConfig.dataset,serializers:c})})]})},C=function(e){e.position;var t,n=e.content,i=(e.dispatchAddToHistory,e.sanityClient),c={marks:{internalLink:function(e){var t=e.mark,n=e.children;return Object(m.jsx)("span",{className:"internalLink","data-internallink":t.reference._ref,children:n})},link:function(e){var t=e.mark,n=e.children,i=t.blank,c=t.href;return i?Object(m.jsx)("a",{href:c,target:"_blank",rel:"noopener",children:n}):Object(m.jsx)("a",{href:c,children:n})}}},r=p()(i);return Object(m.jsxs)("div",{className:"cardContent",children:[Object(m.jsx)("div",{className:"title",children:n.title}),n.images?Object(m.jsx)("div",{class:"cardImageWrapper",children:Object(m.jsx)("img",{src:(t=n.images[0].image,r.image(t))})}):"",Object(m.jsx)("div",{className:"blockContent",children:Object(m.jsx)(u.a,{blocks:n.text,projectId:i.clientConfig.projectId,dataset:i.clientConfig.dataset,serializers:c})})]})},T=function(e){var t=e.position,n=e.content,i=e.dispatchAddToHistory,c=e.sanityClient,r=null;if("project"===n._type)r=Object(m.jsx)(C,{position:t,content:n,dispatchAddToHistory:i,sanityClient:c});else switch(n.referenceType){case"referenceTypeImage":r=Object(m.jsx)(g,{position:t,content:n,dispatchAddToHistory:i,sanityClient:c});break;case"referenceTypeVideo":r=Object(m.jsx)(v,{position:t,content:n,dispatchAddToHistory:i,sanityClient:c});break;case"referenceTypeText":r=Object(m.jsx)(y,{position:t,content:n,dispatchAddToHistory:i,sanityClient:c});break;case"referenceTypeQuote":r=Object(m.jsx)(k,{position:t,content:n,dispatchAddToHistory:i,sanityClient:c});break;case"referenceTypeBook":r=Object(m.jsx)(_,{position:t,content:n,dispatchAddToHistory:i,sanityClient:c});break;default:r=null}return Object(m.jsx)("div",{className:"cardWrapper",children:r})},N=(n(264),function(e){var t=e.currentTags,n=e.setClickedTag;return t&&0!=t.length?(console.log(t),Object(m.jsx)("div",{className:"tagsContainer",children:Object(m.jsxs)("div",{className:"tagsListWrapper",children:[Object(m.jsx)("div",{className:"tagsListTitle",children:"Draw new card related to..."}),Object(m.jsx)("ul",{className:"tagsList",children:t.map((function(e){return Object(m.jsx)("li",{onClick:function(){n(e.id)},children:e.title},e.id)}))})]})})):Object(m.jsx)("div",{children:"Loading..."})});p()(f);var I=["a1b61c75-ff5f-4230-93d8-6a2fd6936e12","",""],A=function(e,t){switch(t.type){case"add":var n=Object(l.a)(e);switch(t.payload.position){case"left":n[n.length-1]="",n[n.length-2]=t.payload.id;break;case"middle":n[n.length-1]=t.payload.id;break;case"right":n.push(t.payload.id)}return n;default:return}},L=function(){var e=Object(i.useReducer)(A,I),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(null),a=Object(d.a)(r,2),s=a[0],j=a[1],h=Object(i.useState)([]),u=Object(d.a)(h,2),b=u[0],p=u[1],g=Object(i.useState)(null),O=Object(d.a)(g,2),x=O[0],v=O[1],y=Object(i.useState)(1),k=Object(d.a)(y,2),_=k[0],C=(k[1],Object(o.e)().slug);function L(e){c({type:e.type,payload:{id:e.payload.id,position:e.payload.position}})}var H=function(){return console.log(n),""==n[1]?(console.log("left"),"left"):""==n[2]?(console.log("middle"),"middle"):(console.log("right"),"right")};function w(e){var t="";return n.length-e!=null&&(t=n[(n.length-e)*_]),t}function W(e){return!!n[n.length-e]}var D=function(e){return e.map((function(e){if(e.id[0])return e.count>2?e.id[0]._id==x?void console.log(e.id[0]._id,x):{id:e.id[0]._id,title:e.id[0].title}:void 0})).filter((function(e){return void 0!=e}))},S=function(){if(s){console.log(x);var e=H(),t=D(s.left[0].tags),n=[],i=[];"middle"==e&&(n=D(s.middle[0].tags)),"right"==e&&(n=D(s.middle[0].tags),i=D(s.right[0].tags));var c=[].concat(Object(l.a)(t),Object(l.a)(n),Object(l.a)(i)).reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?e:e.concat([t])}),[]);return function(e,t){console.log("total",e);var n=new Array(t),i=e.length,c=new Array(i);if(t>i)throw new RangeError("getRandom: more elements taken than available");for(;t--;){var r=Math.floor(Math.random()*i);n[t]=e[r in c?c[r]:r],c[r]=--i in c?c[i]:i}return n}(c,c.length<5?c.length:5)}};return Object(i.useEffect)((function(){console.log(s);var e=H(),t=function(t){return"left"==e?t._id!==s.left[0]._id:"middle"==e?t._id!==s.left[0]._id&&t._id!==s.middle[0]._id:"right"==e?t._id!==s.left[0]._id&&t._id!==s.middle[0]._id&&t._id!==s.right[0]._id:void 0};if(null!=x){var n='*[referenceTags[]._ref == "'.concat(x,'"]{_id}');f.fetch(n).then((function(e){return e.filter(t)})).then((function(e){return e[Math.floor(Math.random()*e.length)]})).then((function(e){return L({type:"add",payload:{position:H(),id:e._id}})})).catch(console.error)}}),[x]),Object(i.useEffect)((function(){s&&p(S)}),[s]),Object(i.useEffect)((function(){var e='*[]{ \n        "right":'.concat(W(1)?' *[_id == "'.concat(w(1),'"]{\n            _id,\n            title,\n            _type,\n            text,\n            images,\n            videos[]{\n                \'muxAssetDoc\': *[_id == ^.video.asset._ref]{...},\n                \'youtube\': {...},\n                \'vimeo\': {...}\n            },\n            referenceType,\n            "tags": referenceTags[]{"id": *[_type == "tagItem" && _id == ^._ref]{_id, title}, "count": count(*[_type == "referenceItem" && references(^._ref) || _type == "project" && references(^._ref)])}\n            },\n            '):"{},",'\n            "middle":').concat(W(2)?' *[_id == "'.concat(w(2),'"]{\n                _id,\n                title,\n                _type,\n                text,\n                images,\n                videos[]{\n                    \'muxAssetDoc\': *[_id == ^.video.asset._ref]{...},\n                    \'youtube\': {...},\n                    \'vimeo\': {...}\n                },\n                referenceType,\n                "tags": referenceTags[]{"id": *[_type == "tagItem" && _id == ^._ref]{_id, title}, "count": count(*[_type == "referenceItem" && references(^._ref) || _type == "project" && references(^._ref)])}\n            },\n            '):"{},",'\n            "left": ').concat(W(3)?' *[_id == "'.concat(w(3),'"]{\n                _id,\n                title,\n                _type,\n                text,\n                images,\n                videos[]{\n                    \'muxAssetDoc\': *[_id == ^.video.asset._ref]{...},\n                    \'youtube\': {...},\n                    \'vimeo\': {...}\n                },\n                referenceType,\n                "tags": referenceTags[]{"id": *[_type == "tagItem" && _id == ^._ref]{_id, title}, "count": count(*[_type == "referenceItem" && references(^._ref) || _type == "project" && references(^._ref)])}\n                },\n            '):"{}","}");f.fetch(e).then((function(e){return j(e[0])})).catch(console.error)}),[C,n,_]),s?Object(m.jsx)("div",{className:"home",children:Object(m.jsxs)("div",{className:"content",children:[s.left.length?Object(m.jsx)(T,{position:"left",content:s.left[0],dispatchAddToHistory:L,sanityClient:f}):"",s.middle.length?Object(m.jsx)(T,{position:"middle",content:s.middle[0],dispatchAddToHistory:L,sanityClient:f}):"",s.right.length?Object(m.jsx)(T,{position:"right",content:s.right[0],dispatchAddToHistory:L,sanityClient:f}):"",Object(m.jsx)(N,{currentTags:b,setClickedTag:v})]})}):Object(m.jsx)("div",{children:"Loading..."})};var H=function(){return Object(m.jsx)(s.a,{children:Object(m.jsx)("div",{children:Object(m.jsx)(o.a,{component:L,path:"/NadineBotha/"})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,271)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(H,{})}),document.getElementById("root")),w()},97:function(e,t,n){},98:function(e,t,n){}},[[270,1,2]]]);
//# sourceMappingURL=main.38a13c0c.chunk.js.map